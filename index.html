<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>Generative Expressive Robot Behaviors using Large Language Models</title>

    <meta name="description" content="Generative Expressive Robot Behaviors using Large Language Models">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <base href="/"> -->

<!--     <link rel="apple-touch-icon" href="apple-touch-icon.png"> -->
  <!-- <link rel="icon" type="image/png" href="img/seal_icon.png"> -->

    <link href="//cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="css/app.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.3/clipboard.min.js"></script>
    
    <script src="js/app.js"></script>
	
    <style>
        .nav-pills {
          position: relative;
          display: inline;
        }
        .imtip {
          position: absolute;
          top: 0;
          left: 0;
        }
    </style>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5JBS73F70V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5JBS73F70V');
</script>
<body>
    <div class="container" id="main">
        <div class="row mt-4">
            <h2 class="col-md-12 text-center">
                <b><font size="+6">Generative Expressive Robot Behaviors</font></b>: </br> using Large Language Models </br> 
                <!--<small>
                    ICRA 2023
                </small>-->
            </h2>
        </div>

        <div class="row justify-content-md-center">
            <div class="col-md-10 col-lg-8">
                <!-- <h3>
                    Approach
                </h3> -->
                <!-- <p class="text-justify">
                    Imagine a robot operating in a kitchen that is capable of executing skills such as "pick up the coffee cup" or "go to the sink".
                    To get the robot to use these skills to perform a complex task (e.g. "I spilled my drink, can you help?"), the user could manually break it up into steps consisting of these atomic commands. 
			        However,this would be exceedingly tedious. A language model can split the high-level instruction ("I spilled my drink, can you help?") into sub-tasks, but it cannot do that effectively unless it has the context of what the robot is capable of given the abilities, current state of the robot and its environment.
                <br><br>
                    When querying existing large language models, we see that a language model queried with "I spilled my drink, can you help?" may respond with "You could try using a vaccuum cleaner" or "I'm sorry, I didn't mean to spill it".
                <p style="text-align:center;">
        	        <image src="img/gpt3-cropped2.png" class="img-responsive">
                </p>
                    While these responses sound reasonable, they are not feasible to execute with the robot's capabilities in its current environment.  
                <br><br>
                    The main principle that we use to connect LLMs to physical tasks is to observe that, in addition of asking the LLM to simply interpret an instruction, we can use it to score the likelihood that an individual skill makes progress towards completing the high-level instruction.
                    Furthermore, if each skill has an accompanying affordance function that quantifies how likely it is to succeed from the current state (such as a learned value function), its value can be used to weight the skill's likelihood.
                <p style="text-align:center;">
        	        <image src="img/saycan-llm.gif" class="img-responsive">
                </p>
                <br><br>
                    Once the skill is selected, we execute it on the robot, the process proceeds by iteratively selecting a task and appending it to the instruction.
                    Practically, we structure the planning as a dialog between a user and a robot, in which a user provides the high level-instruction, e.g. "How would you bring me a coke can?" and the language model responds with an explicit sequence e.g. "I would: 1. Find a coke can, 2. Pick up the coke can, 3. Bring it to you, 4. Done".  
                <p style="text-align:center;">
        	        <image src="img/saycan.png" class="img-responsive">        	   
                </p>
                In summary, given a high-level instruction, SayCan combines probabilities from a language model (representing the probability that a skill is useful for the instruction) with the probabilities from a value function (representing the probability of successfully executing said skill) to select the skill to perform. This emits a skill that is both possible and useful. The process is repeated by appending the selected skill to robot response and querying the models again, until the output step is to terminate.                 -->
            </div>
        </div>

        <div class="row justify-content-md-center mt-4">
            <div class="col-md-10 col-lg-8">
                <h3>User Studies</h3>
                <!--p>Videos have sound that showcase voice and speech-based robot interface.</p-->
                <!--div class="card mb-4 mt-4 text-dark bg-light">
                    <h5 class="card-header">Tabletop Manipulation: Blocks</h5>
                    <div class="card-body">
                        <p>Choose a command:</p>
                        <select class="form-select" size="5" aria-label="size 5 select example">
                            <option value="blocks_1">
                                1) Put the blocks in a horizontal line near the top
                            </option>
                            <option value="blocks_2">
                                2) Move the sky-colored block in between the red block and the second block from the left
                            </option>
                            <option value="blocks_3">
                                3) Why did you move the green block?
                            </option>
                            <option value="blocks_4">
                                4) Which block did you move?
                            </option>
                            <option value="blocks_5">
                                5) Arrange the blocks in a square around the middle
                            </option>
                            <option value="blocks_6">
                                6) Make the square bigger
                            </option>
                            <option value="blocks_7">
                                7) Undo that
                            </option>
                            <option value="blocks_8">
                                8) Rotate the square by 45 degrees
                            </option>
                            <option value="blocks_9">
                                9) Can you throw blocks?
                            </option>
                            <option value="blocks_10">
                                10) Move the red block 5cm to the bottom
                            </option>
                            <option value="blocks_11">
                                11) Do the same with the other blocks
                            </option>
                            <option value="blocks_12">
                                12) Put the blocks on different corners clockwise starting at the top right corner
                            </option>
                        </select>
                        <div class="col-md-12 mb-2">
                            <video id="vid_blocks" width="100%" preload="metadata" playsinline controls>
                                <source src="videos/blocks.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="row" id="content_blocks_1">
                            <div class="col-md-12" id="code_blocks_1">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_2" style="display:none">
                            <div class="col-md-12" id="code_blocks_2">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_3" style="display:none">
                            <div class="col-md-12" id="code_blocks_3">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_4" style="display:none">
                            <div class="col-md-12" id="code_blocks_4">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_5" style="display:none">
                            <div class="col-md-12" id="code_blocks_5">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_6" style="display:none">
                            <div class="col-md-12" id="code_blocks_6">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_7" style="display:none">
                            <div class="col-md-12" id="code_blocks_7">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_8" style="display:none">
                            <div class="col-md-12" id="code_blocks_8">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_9" style="display:none">
                            <div class="col-md-12" id="code_blocks_9">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_10" style="display:none">
                            <div class="col-md-12" id="code_blocks_10">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_11" style="display:none">
                            <div class="col-md-12" id="code_blocks_11">
                            </div>
                        </div>

                        <div class="row" id="content_blocks_12" style="display:none">
                            <div class="col-md-12" id="code_blocks_12">
                            </div>
                        </div>

                        <div class="row">
                            <p>
                                Prompts (same for all tabletop manipulation tasks):
                                <br>
                                <a href="https://code-as-policies.github.io/prompts/tabletop_ui.txt">High-Level UI</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_obj_name.txt">Parse Object Names</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_position.txt">Parse Positions</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_question.txt">Parse Questions</a> |
                                <a href="https://code-as-policies.github.io/prompts/fgen.txt">Function Generation</a>
                            </p>
                        </div>

                    </div>
                </div-->
                <div class="card mb-4 mt-4 text-dark bg-light">
                    <h5 class="card-header">Study 1: Benchmarking Generative Expressive Motion</h5>
                    <div class="card-body">
                        <!--p>Choose a command:</p-->
                        <div class="col-md-12 mb-2">
                            <video id="nod_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Nod.mp4" type="video/mp4">
                            </video>
                        </div>
                        
                        <div class="col-md-12 mb-2">
                            <video id="shake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Shake.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Wake.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Excuse.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Recoverable.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Unrecoverable.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Acknowledge_Stop.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Follow.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Approach.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study1/Attention.mp4" type="video/mp4">
                            </video>
                        </div>
                        <!--div class="row">
                            <p>
                                Prompts (same for all tabletop manipulation tasks):
                                <br>
                                <a href="https://code-as-policies.github.io/prompts/tabletop_ui.txt">High-Level UI</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_obj_name.txt">Parse Object Names</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_position.txt">Parse Positions</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_question.txt">Parse Questions</a> |
                                <a href="https://code-as-policies.github.io/prompts/fgen.txt">Function Generation</a>
                            </p>
                        </div-->

                    </div>
                </div>
            
                <div class="card mb-4 mt-4 text-dark bg-light">
                    <h5 class="card-header">Study 2: Mimicking the Oracle Animator</h5>
                    <div class="card-body">
                        <!--p>Choose a command:</p-->
                        <div class="col-md-12 mb-2">
                            <video id="nod_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Nod.mp4" type="video/mp4">
                            </video>
                        </div>
                        
                        <div class="col-md-12 mb-2">
                            <video id="shake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Shake.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Wake.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Excuse.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Recoverable.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Unrecoverable.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Acknowledge_Walk.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Acknowledge_Walk.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Teach.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="col-md-12 mb-2">
                            <video id="wake_all_conditions" width="100%" preload="metadata" playsinline controls autoplay loop muted>
                                <source src="videos/Study2/Follow.mp4" type="video/mp4">
                            </video>
                        </div>
                        <!--div class="row">
                            <p>
                                Prompts (same for all tabletop manipulation tasks):
                                <br>
                                <a href="https://code-as-policies.github.io/prompts/tabletop_ui.txt">High-Level UI</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_obj_name.txt">Parse Object Names</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_position.txt">Parse Positions</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_question.txt">Parse Questions</a> |
                                <a href="https://code-as-policies.github.io/prompts/fgen.txt">Function Generation</a>
                            </p>
                        </div-->

                    </div>
                </div>
                <!--div class="card mb-4 mt-4 text-dark bg-light">
                    <h5 class="card-header">Studies</h5>
                    <!--div class="card-body">
                        <p>Choose a command:</p>           
                        <select class="form-select" size="5" aria-label="size 5 select example">
                            <option value="fbp_1">
                                1) How many fruits are there?
                            </option>
                            <option value="fbp_2">
                                2) Tell me their names
                            </option>
                            <option value="fbp_3">
                                3) Are there any fruits on the green plate?
                            </option>
                            <option value="fbp_4">
                                4) Move all fruits to the green plate and bottles to the blue plate
                            </option>
                            <option value="fbp_5">
                                5) Move the smallest fruit back to the yellow plate
                            </option>
                            <option value="fbp_6">
                                6) Wait until you see an egg and put it on the green plate
                            </option>
                            <option value="fbp_7">
                                7) Put the darkest object in the plate that has the apple
                            </option>
                        </select>

                        <div class="col-md-12 mb-2">
                            <video id="vid_fbp" width="100%" preload="metadata" playsinline controls>
                                <source src="videos/fruits_and_bottles.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="row" id="content_fbp_1">
                            <div class="col-md-12" id="code_fbp_1">
                            </div>
                        </div>

                        <div class="row" id="content_fbp_2" style="display:none">
                            <div class="col-md-12" id="code_fbp_2">
                            </div>
                        </div>

                        <div class="row" id="content_fbp_3" style="display:none">
                            <div class="col-md-12" id="code_fbp_3">
                            </div>
                        </div>

                        <div class="row" id="content_fbp_4" style="display:none">
                            <div class="col-md-12" id="code_fbp_4">
                            </div>
                        </div>

                        <div class="row" id="content_fbp_5" style="display:none">
                            <div class="col-md-12" id="code_fbp_5">
                            </div>
                        </div>

                        <div class="row" id="content_fbp_6" style="display:none">
                            <div class="col-md-12" id="code_fbp_6">
                            </div>
                        </div>
                            
                        <div class="row" id="content_fbp_7" style="display:none">
                            <div class="col-md-12" id="code_fbp_7">
                            </div>
                        </div>

                        <div class="row">
                            <p>
                                Prompts (same for all tabletop manipulation tasks):
                                <br>
                                <a href="https://code-as-policies.github.io/prompts/tabletop_ui.txt">High-Level UI</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_obj_name.txt">Parse Object Names</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_position.txt">Parse Positions</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_question.txt">Parse Questions</a> |
                                <a href="https://code-as-policies.github.io/prompts/fgen.txt">Function Generation</a>
                            </p>
                        </div>

                    </div-->
                </div>
                <!--div class="card mb-4 mt-4 text-dark bg-light">
                    <h5 class="card-header">Studies</h5-->
                    <!--div class="card-body">
                        <p>Choose a command:</p>        
                        <select class="form-select" size="5" aria-label="size 5 select example">
                            <option value="draw_1">
                                1) Draw a 5cm hexagon around the middle
                            </option>
                            <option value="draw_2">
                                2) Draw a line that bisects the hexagon
                            </option>
                            <option value="draw_3">
                                3) Make them both bigger
                            </option>
                            <option value="draw_4">
                                4) Erase the hexagon and the line
                            </option>
                            <option value="draw_5">
                                5) Draw the sun as a circle at the top right
                            </option>
                            <option value="draw_6">
                                6) Draw the ground as a line at the bottom
                            </option>
                            <option value="draw_7">
                                7) Draw a pyramid as a triangle on the ground
                            </option>
                            <option value="draw_8">
                                8) Draw a smaller pyramid a little bit to the left
                            </option>
                            <option value="draw_9">
                                8) Erase the sun, the ground, and the pyramid
                            </option>
                            <option value="draw_10">
                                9) Draw circles around the blocks
                            </option>
                            <option value="draw_11">
                                10) Draw a square around the sweeter fruit
                            </option>
                        </select>

                        <div class="col-md-12 mb-2">
                            <video id="vid_draw" width="100%" preload="metadata" playsinline controls>
                                <source src="videos/whiteboard.mp4" type="video/mp4">
                            </video>
                        </div>

                        <div class="row" id="content_draw_1">
                            <div class="col-md-12" id="code_draw_1">
                            </div>
                        </div>

                        <div class="row" id="content_draw_2" style="display:none">
                            <div class="col-md-12" id="code_draw_2">
                            </div>
                        </div>

                        <div class="row" id="content_draw_3" style="display:none">
                            <div class="col-md-12" id="code_draw_3">
                            </div>
                        </div>

                        <div class="row" id="content_draw_4" style="display:none">
                            <div class="col-md-12" id="code_draw_4">
                            </div>
                        </div>

                        <div class="row" id="content_draw_5" style="display:none">
                            <div class="col-md-12" id="code_draw_5">
                            </div>
                        </div>

                        <div class="row" id="content_draw_6" style="display:none">
                            <div class="col-md-12" id="code_draw_6">
                            </div>
                        </div>

                        <div class="row" id="content_draw_7" style="display:none">
                            <div class="col-md-12" id="code_draw_7">
                            </div>
                        </div>

                        <div class="row" id="content_draw_8" style="display:none">
                            <div class="col-md-12" id="code_draw_8">
                            </div>
                        </div>
                        
                        <div class="row" id="content_draw_9" style="display:none">
                            <div class="col-md-12" id="code_draw_9">
                            </div>
                        </div>

                        <div class="row" id="content_draw_10" style="display:none">
                            <div class="col-md-12" id="code_draw_10">
                            </div>
                        </div>

                        <div class="row" id="content_draw_11" style="display:none">
                            <div class="col-md-12" id="code_draw_11">
                            </div>
                        </div>

                        <div class="row">
                            <p>
                                Prompts:
                                <br>
                                <a href="https://code-as-policies.github.io/prompts/draw_ui.txt">High-Level UI</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_obj_name.txt">Parse Object Names</a> |
                                <a href="https://code-as-policies.github.io/prompts/parse_shape_pts.txt">Parse Shape Points</a> |
                                <a href="https://code-as-policies.github.io/prompts/transform_shape_pts.txt">Transform Shape Points</a> |
                                <a href="https://code-as-policies.github.io/prompts/fgen_simple.txt">Function Generation</a>
                            </p>
                        </div>

                    </div-->
                </div>
            </div>
        </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
